<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Radial Spokes with Group Movement</title>
  <style>
    body { margin: 0; background: black; overflow: hidden; }
    canvas { display: block; }
  </style>
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script>
    // Scene, Camera, Renderer
    const radialScene = new THREE.Scene();
    const radialCamera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
    radialCamera.position.z = 20;

    const radialRenderer = new THREE.WebGLRenderer({ antialias: true });
    radialRenderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(radialRenderer.domElement);

    // Group to hold all spokes
    const spokeGroup = new THREE.Group();
    radialScene.add(spokeGroup);

    const spokeCount = 60;
    const spokeRadius = 5;
    const spokes = [];

    const spokeGeometry = new THREE.PlaneGeometry(0.1, 5, 1, 1);

    const fadeMaterial = new THREE.ShaderMaterial({
      transparent: true,
      side: THREE.DoubleSide,
      vertexShader: `
        varying vec2 vUv;
        void main() {
          vUv = uv;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
      `,
      fragmentShader: `
        varying vec2 vUv;
        void main() {
          float fade = 1.0 - abs(vUv.y - 0.5) * 2.0;
          fade = clamp(fade, 0.0, 1.0);
          gl_FragColor = vec4(1.0, 1.0, 1.0, fade);
        }
      `
    });

    for (let i = 0; i < spokeCount; i++) {
      const angle = (i / spokeCount) * Math.PI * 2;
      const spoke = new THREE.Mesh(spokeGeometry, fadeMaterial);

      spoke.userData = {
        angle,
        amplitude: Math.random() * 1.0 + 0.3,
        phase: Math.random() * Math.PI * 2
      };

      spoke.position.x = Math.cos(angle) * spokeRadius;
      spoke.position.y = Math.sin(angle) * spokeRadius;
      spoke.rotation.z = angle + Math.PI / 2;
      spoke.position.z = 0;

      spokeGroup.add(spoke);
      spokes.push(spoke);
    }

    // Move the entire group in space
    spokeGroup.position.set(0, 1, -9); // You can change this

    const clock = new THREE.Clock();

    function animateRadialSpokes() {
      requestAnimationFrame(animateRadialSpokes);
      const time = clock.getElapsedTime();

      spokes.forEach(spoke => {
        const { angle, amplitude, phase } = spoke.userData;

        const baseX = Math.cos(angle) * spokeRadius;
        const baseY = Math.sin(angle) * spokeRadius;
        const offsetZ = Math.sin(time + phase) * amplitude * 2;

        spoke.position.x = baseX;
        spoke.position.y = baseY;
        spoke.position.z = offsetZ;
      });

      // Optional: Rotate the group
   spokeGroup.rotation.z += 0.0002;

      radialRenderer.render(radialScene, radialCamera);
    }

    animateRadialSpokes();

    window.addEventListener('resize', () => {
      radialCamera.aspect = window.innerWidth / window.innerHeight;
      radialCamera.updateProjectionMatrix();
      radialRenderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>